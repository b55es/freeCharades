<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Free Charades</title>

    </head>
    <body>
        <h1>Free Charades</h1>
        <p>This is fun!</p>
        <p id="word">Hampster</p>
        <p id="timer">Timer</p>
        <button id="start">Start</button>
        <button id="end">End</button>
        <button id="wrong">
            Wrong
        </button>
        <button id="correct">
            Correct
        </button>
        <p id="score">Score</p>
        <script>
            // Initial states
            const originalWordList = ["dog", "lion", "cat", "monkey"];
            let currentWordList = [];
            let score = 0;

            //getting html references to js variables
            const wrongButton = document.getElementById("wrong");
            const correctButton = document.getElementById("correct");
            const startButton = document.getElementById("start");
            const wordParagraph = document.getElementById("word");
            const scoreParagraph = document.getElementById("score");

            const setScore = (scoreToSet) => {
                score = scoreToSet;
                scoreParagraph.innerHTML = score;
            }

            const showRandomWord = () => {
                const randomIndex = Math.floor(Math.random() * currentWordList.length);
                const newWord = currentWordList[randomIndex];
                // after we select the word, we remove it from the list
                currentWordList.splice(randomIndex, 1);
                wordParagraph.innerHTML = newWord;
            }

            setScore(0);
            
            wrongButton.addEventListener("click", function(){
                showRandomWord()
            });
            
            correctButton.addEventListener("click", function(){
                showRandomWord();
                setScore(++score);
            });

            startButton.addEventListener("click", function() {
                setScore(0);
                currentWordList = [...originalWordList];
                let time = 3;
                const timerParagraph = document.getElementById("timer");
                timerParagraph.innerHTML = time;

                // Run function every second
                const intervalId = setInterval(() => {
                    if (time > 0) {
                        timerParagraph.innerHTML = time -= 1;
                    }
                    if (time === 0) {
                        clearInterval(intervalId);
                        showRandomWord();
                    }
                }, 1000)
            });

        </script>
    </body>
</html>